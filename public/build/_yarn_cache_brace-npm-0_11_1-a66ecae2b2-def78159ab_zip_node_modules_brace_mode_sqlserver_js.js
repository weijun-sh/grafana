(self["webpackChunkgrafana"] = self["webpackChunkgrafana"] || []).push([["_yarn_cache_brace-npm-0_11_1-a66ecae2b2-def78159ab_zip_node_modules_brace_mode_sqlserver_js"],{

/***/ "./.yarn/cache/brace-npm-0.11.1-a66ecae2b2-def78159ab.zip/node_modules/brace/mode/sqlserver.js":
/***/ (() => {

ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var DocCommentHighlightRules = function() {
    this.$rules = {
        "start" : [ {
            token : "comment.doc.tag",
            regex : "@[\\w\\d_]+" // TODO: fix email addresses
        }, 
        DocCommentHighlightRules.getTagRule(),
        {
            defaultToken : "comment.doc",
            caseInsensitive: true
        }]
    };
};

oop.inherits(DocCommentHighlightRules, TextHighlightRules);

DocCommentHighlightRules.getTagRule = function(start) {
    return {
        token : "comment.doc.tag.storage.type",
        regex : "\\b(?:TODO|FIXME|XXX|HACK)\\b"
    };
};

DocCommentHighlightRules.getStartRule = function(start) {
    return {
        token : "comment.doc", // doc comment
        regex : "\\/\\*(?=\\*)",
        next  : start
    };
};

DocCommentHighlightRules.getEndRule = function (start) {
    return {
        token : "comment.doc", // closing comment
        regex : "\\*\\/",
        next  : start
    };
};


exports.DocCommentHighlightRules = DocCommentHighlightRules;

});

ace.define("ace/mode/sqlserver_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var DocCommentHighlightRules = acequire("./doc_comment_highlight_rules").DocCommentHighlightRules;
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var SqlServerHighlightRules = function() {
    var logicalOperators = "ALL|AND|ANY|BETWEEN|EXISTS|IN|LIKE|NOT|OR|SOME";
    logicalOperators += "|NULL|IS|APPLY|INNER|OUTER|LEFT|RIGHT|JOIN|CROSS"; //SSMS colors these gray too
    

    var builtinFunctions = (
        "OPENDATASOURCE|OPENQUERY|OPENROWSET|OPENXML|" +
        "AVG|CHECKSUM_AGG|COUNT|COUNT_BIG|GROUPING|GROUPING_ID|MAX|MIN|STDEV|STDEVP|SUM|VAR|VARP|" +
        "DENSE_RANK|NTILE|RANK|ROW_NUMBER" +
        "@@DATEFIRST|@@DBTS|@@LANGID|@@LANGUAGE|@@LOCK_TIMEOUT|@@MAX_CONNECTIONS|@@MAX_PRECISION|@@NESTLEVEL|@@OPTIONS|@@REMSERVER|@@SERVERNAME|@@SERVICENAME|@@SPID|@@TEXTSIZE|@@VERSION|" +
        "CAST|CONVERT|PARSE|TRY_CAST|TRY_CONVERT|TRY_PARSE" +
        "@@CURSOR_ROWS|@@FETCH_STATUS|CURSOR_STATUS|" +
        "@@DATEFIRST|@@LANGUAGE|CURRENT_TIMESTAMP|DATEADD|DATEDIFF|DATEFROMPARTS|DATENAME|DATEPART|DATETIME2FROMPARTS|DATETIMEFROMPARTS|DATETIMEOFFSETFROMPARTS|DAY|EOMONTH|GETDATE|GETUTCDATE|ISDATE|MONTH|SET DATEFIRST|SET DATEFORMAT|SET LANGUAGE|SMALLDATETIMEFROMPARTS|SP_HELPLANGUAGE|SWITCHOFFSET|SYSDATETIME|SYSDATETIMEOFFSET|SYSUTCDATETIME|TIMEFROMPARTS|TODATETIMEOFFSET|YEAR|" +
        "CHOOSE|IIF|" +
        "ABS|ACOS|ASIN|ATAN|ATN2|CEILING|COS|COT|DEGREES|EXP|FLOOR|LOG|LOG10|PI|POWER|RADIANS|RAND|ROUND|SIGN|SIN|SQRT|SQUARE|TAN|" +
        "@@PROCID|APPLOCK_MODE|APPLOCK_TEST|APP_NAME|ASSEMBLYPROPERTY|COLUMNPROPERTY|COL_LENGTH|COL_NAME|DATABASEPROPERTYEX|DATABASE_PRINCIPAL_ID|DB_ID|DB_NAME|FILEGROUPPROPERTY|FILEGROUP_ID|FILEGROUP_NAME|FILEPROPERTY|FILE_ID|FILE_IDEX|FILE_NAME|FULLTEXTCATALOGPROPERTY|FULLTEXTSERVICEPROPERTY|INDEXKEY_PROPERTY|INDEXPROPERTY|INDEX_COL|OBJECTPROPERTY|OBJECTPROPERTYEX|OBJECT_DEFINITION|OBJECT_ID|OBJECT_NAME|OBJECT_SCHEMA_NAME|ORIGINAL_DB_NAME|PARSENAME|SCHEMA_ID|SCHEMA_NAME|SCOPE_IDENTITY|SERVERPROPERTY|STATS_DATE|TYPEPROPERTY|TYPE_ID|TYPE_NAME|" +
        "CERTENCODED|CERTPRIVATEKEY|CURRENT_USER|DATABASE_PRINCIPAL_ID|HAS_PERMS_BY_NAME|IS_MEMBER|IS_ROLEMEMBER|IS_SRVROLEMEMBER|ORIGINAL_LOGIN|PERMISSIONS|PWDCOMPARE|PWDENCRYPT|SCHEMA_ID|SCHEMA_NAME|SESSION_USER|SUSER_ID|SUSER_NAME|SUSER_SID|SUSER_SNAME|SYS.FN_BUILTIN_PERMISSIONS|SYS.FN_GET_AUDIT_FILE|SYS.FN_MY_PERMISSIONS|SYSTEM_USER|USER_ID|USER_NAME|" +
        "ASCII|CHAR|CHARINDEX|CONCAT|DIFFERENCE|FORMAT|LEN|LOWER|LTRIM|NCHAR|PATINDEX|QUOTENAME|REPLACE|REPLICATE|REVERSE|RTRIM|SOUNDEX|SPACE|STR|STUFF|SUBSTRING|UNICODE|UPPER|" +
        "$PARTITION|@@ERROR|@@IDENTITY|@@PACK_RECEIVED|@@ROWCOUNT|@@TRANCOUNT|BINARY_CHECKSUM|CHECKSUM|CONNECTIONPROPERTY|CONTEXT_INFO|CURRENT_REQUEST_ID|ERROR_LINE|ERROR_MESSAGE|ERROR_NUMBER|ERROR_PROCEDURE|ERROR_SEVERITY|ERROR_STATE|FORMATMESSAGE|GETANSINULL|GET_FILESTREAM_TRANSACTION_CONTEXT|HOST_ID|HOST_NAME|ISNULL|ISNUMERIC|MIN_ACTIVE_ROWVERSION|NEWID|NEWSEQUENTIALID|ROWCOUNT_BIG|XACT_STATE|" +
        "@@CONNECTIONS|@@CPU_BUSY|@@IDLE|@@IO_BUSY|@@PACKET_ERRORS|@@PACK_RECEIVED|@@PACK_SENT|@@TIMETICKS|@@TOTAL_ERRORS|@@TOTAL_READ|@@TOTAL_WRITE|FN_VIRTUALFILESTATS|" +
        "PATINDEX|TEXTPTR|TEXTVALID|" +
        "COALESCE|NULLIF"
    );
    var dataTypes = ("BIGINT|BINARY|BIT|CHAR|CURSOR|DATE|DATETIME|DATETIME2|DATETIMEOFFSET|DECIMAL|FLOAT|HIERARCHYID|IMAGE|INTEGER|INT|MONEY|NCHAR|NTEXT|NUMERIC|NVARCHAR|REAL|SMALLDATETIME|SMALLINT|SMALLMONEY|SQL_VARIANT|TABLE|TEXT|TIME|TIMESTAMP|TINYINT|UNIQUEIDENTIFIER|VARBINARY|VARCHAR|XML");
    var builtInStoredProcedures = "sp_addextendedproc|sp_addextendedproperty|sp_addmessage|sp_addtype|sp_addumpdevice|sp_add_data_file_recover_suspect_db|sp_add_log_file_recover_suspect_db|sp_altermessage|sp_attach_db|sp_attach_single_file_db|sp_autostats|sp_bindefault|sp_bindrule|sp_bindsession|sp_certify_removable|sp_clean_db_file_free_space|sp_clean_db_free_space|sp_configure|sp_control_plan_guide|sp_createstats|sp_create_plan_guide|sp_create_plan_guide_from_handle|sp_create_removable|sp_cycle_errorlog|sp_datatype_info|sp_dbcmptlevel|sp_dbmmonitoraddmonitoring|sp_dbmmonitorchangealert|sp_dbmmonitorchangemonitoring|sp_dbmmonitordropalert|sp_dbmmonitordropmonitoring|sp_dbmmonitorhelpalert|sp_dbmmonitorhelpmonitoring|sp_dbmmonitorresults|sp_db_increased_partitions|sp_delete_backuphistory|sp_depends|sp_describe_first_result_set|sp_describe_undeclared_parameters|sp_detach_db|sp_dropdevice|sp_dropextendedproc|sp_dropextendedproperty|sp_dropmessage|sp_droptype|sp_execute|sp_executesql|sp_getapplock|sp_getbindtoken|sp_help|sp_helpconstraint|sp_helpdb|sp_helpdevice|sp_helpextendedproc|sp_helpfile|sp_helpfilegroup|sp_helpindex|sp_helplanguage|sp_helpserver|sp_helpsort|sp_helpstats|sp_helptext|sp_helptrigger|sp_indexoption|sp_invalidate_textptr|sp_lock|sp_monitor|sp_prepare|sp_prepexec|sp_prepexecrpc|sp_procoption|sp_recompile|sp_refreshview|sp_releaseapplock|sp_rename|sp_renamedb|sp_resetstatus|sp_sequence_get_range|sp_serveroption|sp_setnetname|sp_settriggerorder|sp_spaceused|sp_tableoption|sp_unbindefault|sp_unbindrule|sp_unprepare|sp_updateextendedproperty|sp_updatestats|sp_validname|sp_who|sys.sp_merge_xtp_checkpoint_files|sys.sp_xtp_bind_db_resource_pool|sys.sp_xtp_checkpoint_force_garbage_collection|sys.sp_xtp_control_proc_exec_stats|sys.sp_xtp_control_query_exec_stats|sys.sp_xtp_unbind_db_resource_pool";
    var keywords = "ABSOLUTE|ACTION|ADA|ADD|ADMIN|AFTER|AGGREGATE|ALIAS|ALL|ALLOCATE|ALTER|AND|ANY|ARE|ARRAY|AS|ASC|ASENSITIVE|ASSERTION|ASYMMETRIC|AT|ATOMIC|AUTHORIZATION|BACKUP|BEFORE|BEGIN|BETWEEN|BIT_LENGTH|BLOB|BOOLEAN|BOTH|BREADTH|BREAK|BROWSE|BULK|BY|CALL|CALLED|CARDINALITY|CASCADE|CASCADED|CASE|CATALOG|CHARACTER|CHARACTER_LENGTH|CHAR_LENGTH|CHECK|CHECKPOINT|CLASS|CLOB|CLOSE|CLUSTERED|COALESCE|COLLATE|COLLATION|COLLECT|COLUMN|COMMIT|COMPLETION|COMPUTE|CONDITION|CONNECT|CONNECTION|CONSTRAINT|CONSTRAINTS|CONSTRUCTOR|CONTAINS|CONTAINSTABLE|CONTINUE|CORR|CORRESPONDING|COVAR_POP|COVAR_SAMP|CREATE|CROSS|CUBE|CUME_DIST|CURRENT|CURRENT_CATALOG|CURRENT_DATE|CURRENT_DEFAULT_TRANSFORM_GROUP|CURRENT_PATH|CURRENT_ROLE|CURRENT_SCHEMA|CURRENT_TIME|CURRENT_TRANSFORM_GROUP_FOR_TYPE|CYCLE|DATA|DATABASE|DBCC|DEALLOCATE|DEC|DECLARE|DEFAULT|DEFERRABLE|DEFERRED|DELETE|DENY|DEPTH|DEREF|DESC|DESCRIBE|DESCRIPTOR|DESTROY|DESTRUCTOR|DETERMINISTIC|DIAGNOSTICS|DICTIONARY|DISCONNECT|DISK|DISTINCT|DISTRIBUTED|DOMAIN|DOUBLE|DROP|DUMP|DYNAMIC|EACH|ELEMENT|ELSE|END|END-EXEC|EQUALS|ERRLVL|ESCAPE|EVERY|EXCEPT|EXCEPTION|EXEC|EXECUTE|EXISTS|EXIT|EXTERNAL|EXTRACT|FETCH|FILE|FILLFACTOR|FILTER|FIRST|FOR|FOREIGN|FORTRAN|FOUND|FREE|FREETEXT|FREETEXTTABLE|FROM|FULL|FULLTEXTTABLE|FUNCTION|FUSION|GENERAL|GET|GLOBAL|GO|GOTO|GRANT|GROUP|HAVING|HOLD|HOLDLOCK|HOST|HOUR|IDENTITY|IDENTITYCOL|IDENTITY_INSERT|IF|IGNORE|IMMEDIATE|IN|INCLUDE|INDEX|INDICATOR|INITIALIZE|INITIALLY|INNER|INOUT|INPUT|INSENSITIVE|INSERT|INTEGER|INTERSECT|INTERSECTION|INTERVAL|INTO|IS|ISOLATION|ITERATE|JOIN|KEY|KILL|LANGUAGE|LARGE|LAST|LATERAL|LEADING|LESS|LEVEL|LIKE|LIKE_REGEX|LIMIT|LINENO|LN|LOAD|LOCAL|LOCALTIME|LOCALTIMESTAMP|LOCATOR|MAP|MATCH|MEMBER|MERGE|METHOD|MINUTE|MOD|MODIFIES|MODIFY|MODULE|MULTISET|NAMES|NATIONAL|NATURAL|NCLOB|NEW|NEXT|NO|NOCHECK|NONCLUSTERED|NONE|NORMALIZE|NOT|NULL|NULLIF|OBJECT|OCCURRENCES_REGEX|OCTET_LENGTH|OF|OFF|OFFSETS|OLD|ON|ONLY|OPEN|OPERATION|OPTION|OR|ORDER|ORDINALITY|OUT|OUTER|OUTPUT|OVER|OVERLAPS|OVERLAY|PAD|PARAMETER|PARAMETERS|PARTIAL|PARTITION|PASCAL|PATH|PERCENT|PERCENTILE_CONT|PERCENTILE_DISC|PERCENT_RANK|PIVOT|PLAN|POSITION|POSITION_REGEX|POSTFIX|PRECISION|PREFIX|PREORDER|PREPARE|PRESERVE|PRIMARY|PRINT|PRIOR|PRIVILEGES|PROC|PROCEDURE|PUBLIC|RAISERROR|RANGE|READ|READS|READTEXT|RECONFIGURE|RECURSIVE|REF|REFERENCES|REFERENCING|REGR_AVGX|REGR_AVGY|REGR_COUNT|REGR_INTERCEPT|REGR_R2|REGR_SLOPE|REGR_SXX|REGR_SXY|REGR_SYY|RELATIVE|RELEASE|REPLICATION|RESTORE|RESTRICT|RESULT|RETURN|RETURNS|REVERT|REVOKE|ROLE|ROLLBACK|ROLLUP|ROUTINE|ROW|ROWCOUNT|ROWGUIDCOL|ROWS|RULE|SAVE|SAVEPOINT|SCHEMA|SCOPE|SCROLL|SEARCH|SECOND|SECTION|SECURITYAUDIT|SELECT|SEMANTICKEYPHRASETABLE|SEMANTICSIMILARITYDETAILSTABLE|SEMANTICSIMILARITYTABLE|SENSITIVE|SEQUENCE|SESSION|SET|SETS|SETUSER|SHUTDOWN|SIMILAR|SIZE|SOME|SPECIFIC|SPECIFICTYPE|SQL|SQLCA|SQLCODE|SQLERROR|SQLEXCEPTION|SQLSTATE|SQLWARNING|START|STATE|STATEMENT|STATIC|STATISTICS|STDDEV_POP|STDDEV_SAMP|STRUCTURE|SUBMULTISET|SUBSTRING_REGEX|SYMMETRIC|SYSTEM|TABLESAMPLE|TEMPORARY|TERMINATE|TEXTSIZE|THAN|THEN|TIMEZONE_HOUR|TIMEZONE_MINUTE|TO|TOP|TRAILING|TRAN|TRANSACTION|TRANSLATE|TRANSLATE_REGEX|TRANSLATION|TREAT|TRIGGER|TRIM|TRUNCATE|TSEQUAL|UESCAPE|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNPIVOT|UPDATE|UPDATETEXT|USAGE|USE|USER|USING|VALUE|VALUES|VARIABLE|VARYING|VAR_POP|VAR_SAMP|VIEW|WAITFOR|WHEN|WHENEVER|WHERE|WHILE|WIDTH_BUCKET|WINDOW|WITH|WITHIN|WITHIN GROUP|WITHOUT|WORK|WRITE|WRITETEXT|XMLAGG|XMLATTRIBUTES|XMLBINARY|XMLCAST|XMLCOMMENT|XMLCONCAT|XMLDOCUMENT|XMLELEMENT|XMLEXISTS|XMLFOREST|XMLITERATE|XMLNAMESPACES|XMLPARSE|XMLPI|XMLQUERY|XMLSERIALIZE|XMLTABLE|XMLTEXT|XMLVALIDATE|ZONE";
    keywords += "|KEEPIDENTITY|KEEPDEFAULTS|IGNORE_CONSTRAINTS|IGNORE_TRIGGERS|XLOCK|FORCESCAN|FORCESEEK|HOLDLOCK|NOLOCK|NOWAIT|PAGLOCK|READCOMMITTED|READCOMMITTEDLOCK|READPAST|READUNCOMMITTED|REPEATABLEREAD|ROWLOCK|SERIALIZABLE|SNAPSHOT|SPATIAL_WINDOW_MAX_CELLS|TABLOCK|TABLOCKX|UPDLOCK|XLOCK|IGNORE_NONCLUSTERED_COLUMNSTORE_INDEX|EXPAND|VIEWS|FAST|FORCE|KEEP|KEEPFIXED|MAXDOP|MAXRECURSION|OPTIMIZE|PARAMETERIZATION|SIMPLE|FORCED|RECOMPILE|ROBUST|PLAN|SPATIAL_WINDOW_MAX_CELLS|NOEXPAND|HINT";
    keywords += "|LOOP|HASH|MERGE|REMOTE";
    keywords += "|TRY|CATCH|THROW";
    keywords += "|TYPE";
    keywords = keywords.split('|');
    keywords = keywords.filter(function(value, index, self) {
        return logicalOperators.split('|').indexOf(value) === -1 && builtinFunctions.split('|').indexOf(value) === -1 && dataTypes.split('|').indexOf(value) === -1;
    });
    keywords = keywords.sort().join('|');
    
    
    var keywordMapper = this.createKeywordMapper({
        "constant.language": logicalOperators,
        "storage.type": dataTypes,
        "support.function": builtinFunctions,
        "support.storedprocedure": builtInStoredProcedures,
        "keyword": keywords
    }, "identifier", true);
    var setStatements = "SET ANSI_DEFAULTS|SET ANSI_NULLS|SET ANSI_NULL_DFLT_OFF|SET ANSI_NULL_DFLT_ON|SET ANSI_PADDING|SET ANSI_WARNINGS|SET ARITHABORT|SET ARITHIGNORE|SET CONCAT_NULL_YIELDS_NULL|SET CURSOR_CLOSE_ON_COMMIT|SET DATEFIRST|SET DATEFORMAT|SET DEADLOCK_PRIORITY|SET FIPS_FLAGGER|SET FMTONLY|SET FORCEPLAN|SET IDENTITY_INSERT|SET IMPLICIT_TRANSACTIONS|SET LANGUAGE|SET LOCK_TIMEOUT|SET NOCOUNT|SET NOEXEC|SET NUMERIC_ROUNDABORT|SET OFFSETS|SET PARSEONLY|SET QUERY_GOVERNOR_COST_LIMIT|SET QUOTED_IDENTIFIER|SET REMOTE_PROC_TRANSACTIONS|SET ROWCOUNT|SET SHOWPLAN_ALL|SET SHOWPLAN_TEXT|SET SHOWPLAN_XML|SET STATISTICS IO|SET STATISTICS PROFILE|SET STATISTICS TIME|SET STATISTICS XML|SET TEXTSIZE|SET XACT_ABORT".split('|');
    var isolationLevels = "READ UNCOMMITTED|READ COMMITTED|REPEATABLE READ|SNAPSHOP|SERIALIZABLE".split('|');
    for (var i = 0; i < isolationLevels.length; i++) {
        setStatements.push('SET TRANSACTION ISOLATION LEVEL ' + isolationLevels[i]);
    }
    
    
    this.$rules = {
        start: [{
            token: "string.start",
            regex: "'",
            next: [{
                token: "constant.language.escape",
                regex: /''/
            }, {
                token: "string.end",
                next: "start",
                regex: "'"
            }, {
                defaultToken: "string"
            }]
        },
        DocCommentHighlightRules.getStartRule("doc-start"), {
            token: "comment",
            regex: "--.*$"
        }, {
            token: "comment",
            start: "/\\*",
            end: "\\*/"
        }, {
            token: "constant.numeric", // float
            regex: "[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"
        }, {
            token: keywordMapper,
            regex: "@{0,2}[a-zA-Z_$][a-zA-Z0-9_$]*\\b(?!])" //up to 2 @symbols for some built in functions
        }, {
            token: "constant.class",
            regex: "@@?[a-zA-Z_$][a-zA-Z0-9_$]*\\b"
        }, {
            token: "keyword.operator",
            regex: "\\+|\\-|\\/|\\/\\/|%|<@>|@>|<@|&|\\^|~|<|>|<=|=>|==|!=|<>|=|\\*"
        }, {
            token: "paren.lparen",
            regex: "[\\(]"
        }, {
            token: "paren.rparen",
            regex: "[\\)]"
        }, {
            token: "punctuation",
            regex: ",|;"
        }, {
            token: "text",
            regex: "\\s+"
        }],
        comment: [
        DocCommentHighlightRules.getTagRule(), {
            token: "comment",
            regex: "\\*\\/",
            next: "no_regex"
        }, {
            defaultToken: "comment",
            caseInsensitive: true
        }]
    };
    for (var i = 0; i < setStatements.length; i++) {
        this.$rules.start.unshift({
            token: "set.statement",
            regex: setStatements[i]
        });
    }
    
    this.embedRules(DocCommentHighlightRules, "doc-", [DocCommentHighlightRules.getEndRule("start")]);
    this.normalizeRules();
    var completions = [];
    var addCompletions = function(arr, meta) {
        arr.forEach(function(v) {
            completions.push({
                name: v,
                value: v,
                score: 0,
                meta: meta
            });
        });
    };
    addCompletions(builtInStoredProcedures.split('|'), 'procedure');
    addCompletions(logicalOperators.split('|'), 'operator');
    addCompletions(builtinFunctions.split('|'), 'function');
    addCompletions(dataTypes.split('|'), 'type');
    addCompletions(setStatements, 'statement');
    addCompletions(keywords.split('|'), 'keyword');
    
    this.completions = completions;
};

oop.inherits(SqlServerHighlightRules, TextHighlightRules);

exports.SqlHighlightRules = SqlServerHighlightRules;
});

ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Range = acequire("../../range").Range;
var BaseFoldMode = acequire("./fold_mode").FoldMode;

var FoldMode = exports.FoldMode = function(commentRegex) {
    if (commentRegex) {
        this.foldingStartMarker = new RegExp(
            this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.start)
        );
        this.foldingStopMarker = new RegExp(
            this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.end)
        );
    }
};
oop.inherits(FoldMode, BaseFoldMode);

(function() {
    
    this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/;
    this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/;
    this.singleLineBlockCommentRe= /^\s*(\/\*).*\*\/\s*$/;
    this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/;
    this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/;
    this._getFoldWidgetBase = this.getFoldWidget;
    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
    
        if (this.singleLineBlockCommentRe.test(line)) {
            if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line))
                return "";
        }
    
        var fw = this._getFoldWidgetBase(session, foldStyle, row);
    
        if (!fw && this.startRegionRe.test(line))
            return "start"; // lineCommentRegionStart
    
        return fw;
    };

    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {
        var line = session.getLine(row);
        
        if (this.startRegionRe.test(line))
            return this.getCommentRegionBlock(session, line, row);
        
        var match = line.match(this.foldingStartMarker);
        if (match) {
            var i = match.index;

            if (match[1])
                return this.openingBracketBlock(session, match[1], row, i);
                
            var range = session.getCommentFoldRange(row, i + match[0].length, 1);
            
            if (range && !range.isMultiLine()) {
                if (forceMultiline) {
                    range = this.getSectionRange(session, row);
                } else if (foldStyle != "all")
                    range = null;
            }
            
            return range;
        }

        if (foldStyle === "markbegin")
            return;

        var match = line.match(this.foldingStopMarker);
        if (match) {
            var i = match.index + match[0].length;

            if (match[1])
                return this.closingBracketBlock(session, match[1], row, i);

            return session.getCommentFoldRange(row, i, -1);
        }
    };
    
    this.getSectionRange = function(session, row) {
        var line = session.getLine(row);
        var startIndent = line.search(/\S/);
        var startRow = row;
        var startColumn = line.length;
        row = row + 1;
        var endRow = row;
        var maxRow = session.getLength();
        while (++row < maxRow) {
            line = session.getLine(row);
            var indent = line.search(/\S/);
            if (indent === -1)
                continue;
            if  (startIndent > indent)
                break;
            var subRange = this.getFoldWidgetRange(session, "all", row);
            
            if (subRange) {
                if (subRange.start.row <= startRow) {
                    break;
                } else if (subRange.isMultiLine()) {
                    row = subRange.end.row;
                } else if (startIndent == indent) {
                    break;
                }
            }
            endRow = row;
        }
        
        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);
    };
    this.getCommentRegionBlock = function(session, line, row) {
        var startColumn = line.search(/\s*$/);
        var maxRow = session.getLength();
        var startRow = row;
        
        var re = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;
        var depth = 1;
        while (++row < maxRow) {
            line = session.getLine(row);
            var m = re.exec(line);
            if (!m) continue;
            if (m[1]) depth--;
            else depth++;

            if (!depth) break;
        }

        var endRow = row;
        if (endRow > startRow) {
            return new Range(startRow, startColumn, endRow, line.length);
        }
    };

}).call(FoldMode.prototype);

});

ace.define("ace/mode/folding/sqlserver",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/cstyle"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Range = acequire("../../range").Range;
var BaseFoldMode = acequire("./cstyle").FoldMode;

var FoldMode = exports.FoldMode = function() {};

oop.inherits(FoldMode, BaseFoldMode);

(function() {
    
    this.foldingStartMarker = /(\bCASE\b|\bBEGIN\b)|^\s*(\/\*)/i;
    this.startRegionRe = /^\s*(\/\*|--)#?region\b/;
    
    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {
        var line = session.getLine(row);
    
        if (this.startRegionRe.test(line)) return this.getCommentRegionBlock(session, line, row);
    
        var match = line.match(this.foldingStartMarker);
        if (match) {
            var i = match.index;
            if (match[1]) return this.getBeginEndBlock(session, row, i, match[1]);
    
            var range = session.getCommentFoldRange(row, i + match[0].length, 1);
            if (range && !range.isMultiLine()) {
                if (forceMultiline) {
                    range = this.getSectionRange(session, row);
                }
                else if (foldStyle != "all") range = null;
            }
    
            return range;
        }
    
        if (foldStyle === "markbegin") return;
        return;
    };
    this.getBeginEndBlock = function(session, row, column, matchSequence) {
        var start = {
            row: row,
            column: column + matchSequence.length
        };
        var maxRow = session.getLength();
        var line;
    
        var depth = 1;
        var re = /(\bCASE\b|\bBEGIN\b)|(\bEND\b)/i;
        while (++row < maxRow) {
            line = session.getLine(row);
            var m = re.exec(line);
            if (!m) continue;
            if (m[1]) depth++;
            else depth--;
    
            if (!depth) break;
        }
        var endRow = row;
        if (endRow > start.row) {
            return new Range(start.row, start.column, endRow, line.length);
        }
    };

}).call(FoldMode.prototype);

});

ace.define("ace/mode/sqlserver",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sqlserver_highlight_rules","ace/mode/folding/sqlserver"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextMode = acequire("./text").Mode;
var SqlServerHighlightRules = acequire("./sqlserver_highlight_rules").SqlHighlightRules;
var SqlServerFoldMode = acequire("./folding/sqlserver").FoldMode;

var Mode = function() {
    this.HighlightRules = SqlServerHighlightRules;
    this.foldingRules = new SqlServerFoldMode();
    this.$behaviour = this.$defaultBehaviour;
};
oop.inherits(Mode, TextMode);

(function() {
    this.lineCommentStart = "--";
    this.blockComment = {start: "/*", end: "*/"};
    this.getCompletions = function(state, session, pos, prefix) {
        return session.$mode.$highlightRules.completions;
    };
    
    this.$id = "ace/mode/sql";
}).call(Mode.prototype);

exports.Mode = Mode;

});


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiX3lhcm5fY2FjaGVfYnJhY2UtbnBtLTBfMTFfMS1hNjZlY2FlMmIyLWRlZjc4MTU5YWJfemlwX25vZGVfbW9kdWxlc19icmFjZV9tb2RlX3NxbHNlcnZlcl9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0RUFBNEU7QUFDNUU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxvQkFBb0IsNEJBQTRCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxzQkFBc0IsSUFBSTtBQUMxQixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHVCQUF1QjtBQUN2QixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0IsMEJBQTBCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQ0FBbUMsVUFBVTtBQUM3QyxxQ0FBcUMsUUFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxDQUFDOztBQUVELENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uLy55YXJuL2NhY2hlL2JyYWNlLW5wbS0wLjExLjEtYTY2ZWNhZTJiMi1kZWY3ODE1OWFiLnppcC9ub2RlX21vZHVsZXMvYnJhY2UvbW9kZS9zcWxzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiYWNlLmRlZmluZShcImFjZS9tb2RlL2RvY19jb21tZW50X2hpZ2hsaWdodF9ydWxlc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBUZXh0SGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4vdGV4dF9oaWdobGlnaHRfcnVsZXNcIikuVGV4dEhpZ2hsaWdodFJ1bGVzO1xuXG52YXIgRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kcnVsZXMgPSB7XG4gICAgICAgIFwic3RhcnRcIiA6IFsge1xuICAgICAgICAgICAgdG9rZW4gOiBcImNvbW1lbnQuZG9jLnRhZ1wiLFxuICAgICAgICAgICAgcmVnZXggOiBcIkBbXFxcXHdcXFxcZF9dK1wiIC8vIFRPRE86IGZpeCBlbWFpbCBhZGRyZXNzZXNcbiAgICAgICAgfSwgXG4gICAgICAgIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRUYWdSdWxlKCksXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlZmF1bHRUb2tlbiA6IFwiY29tbWVudC5kb2NcIixcbiAgICAgICAgICAgIGNhc2VJbnNlbnNpdGl2ZTogdHJ1ZVxuICAgICAgICB9XVxuICAgIH07XG59O1xuXG5vb3AuaW5oZXJpdHMoRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLCBUZXh0SGlnaGxpZ2h0UnVsZXMpO1xuXG5Eb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0VGFnUnVsZSA9IGZ1bmN0aW9uKHN0YXJ0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW4gOiBcImNvbW1lbnQuZG9jLnRhZy5zdG9yYWdlLnR5cGVcIixcbiAgICAgICAgcmVnZXggOiBcIlxcXFxiKD86VE9ET3xGSVhNRXxYWFh8SEFDSylcXFxcYlwiXG4gICAgfTtcbn07XG5cbkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRTdGFydFJ1bGUgPSBmdW5jdGlvbihzdGFydCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRva2VuIDogXCJjb21tZW50LmRvY1wiLCAvLyBkb2MgY29tbWVudFxuICAgICAgICByZWdleCA6IFwiXFxcXC9cXFxcKig/PVxcXFwqKVwiLFxuICAgICAgICBuZXh0ICA6IHN0YXJ0XG4gICAgfTtcbn07XG5cbkRvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRFbmRSdWxlID0gZnVuY3Rpb24gKHN0YXJ0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW4gOiBcImNvbW1lbnQuZG9jXCIsIC8vIGNsb3NpbmcgY29tbWVudFxuICAgICAgICByZWdleCA6IFwiXFxcXCpcXFxcL1wiLFxuICAgICAgICBuZXh0ICA6IHN0YXJ0XG4gICAgfTtcbn07XG5cblxuZXhwb3J0cy5Eb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMgPSBEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXM7XG5cbn0pO1xuXG5hY2UuZGVmaW5lKFwiYWNlL21vZGUvc3Fsc2VydmVyX2hpZ2hsaWdodF9ydWxlc1wiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL2RvY19jb21tZW50X2hpZ2hsaWdodF9ydWxlc1wiLFwiYWNlL21vZGUvdGV4dF9oaWdobGlnaHRfcnVsZXNcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi9saWIvb29wXCIpO1xudmFyIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi9kb2NfY29tbWVudF9oaWdobGlnaHRfcnVsZXNcIikuRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzO1xudmFyIFRleHRIaWdobGlnaHRSdWxlcyA9IGFjZXF1aXJlKFwiLi90ZXh0X2hpZ2hsaWdodF9ydWxlc1wiKS5UZXh0SGlnaGxpZ2h0UnVsZXM7XG5cbnZhciBTcWxTZXJ2ZXJIaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsb2dpY2FsT3BlcmF0b3JzID0gXCJBTEx8QU5EfEFOWXxCRVRXRUVOfEVYSVNUU3xJTnxMSUtFfE5PVHxPUnxTT01FXCI7XG4gICAgbG9naWNhbE9wZXJhdG9ycyArPSBcInxOVUxMfElTfEFQUExZfElOTkVSfE9VVEVSfExFRlR8UklHSFR8Sk9JTnxDUk9TU1wiOyAvL1NTTVMgY29sb3JzIHRoZXNlIGdyYXkgdG9vXG4gICAgXG5cbiAgICB2YXIgYnVpbHRpbkZ1bmN0aW9ucyA9IChcbiAgICAgICAgXCJPUEVOREFUQVNPVVJDRXxPUEVOUVVFUll8T1BFTlJPV1NFVHxPUEVOWE1MfFwiICtcbiAgICAgICAgXCJBVkd8Q0hFQ0tTVU1fQUdHfENPVU5UfENPVU5UX0JJR3xHUk9VUElOR3xHUk9VUElOR19JRHxNQVh8TUlOfFNUREVWfFNUREVWUHxTVU18VkFSfFZBUlB8XCIgK1xuICAgICAgICBcIkRFTlNFX1JBTkt8TlRJTEV8UkFOS3xST1dfTlVNQkVSXCIgK1xuICAgICAgICBcIkBAREFURUZJUlNUfEBAREJUU3xAQExBTkdJRHxAQExBTkdVQUdFfEBATE9DS19USU1FT1VUfEBATUFYX0NPTk5FQ1RJT05TfEBATUFYX1BSRUNJU0lPTnxAQE5FU1RMRVZFTHxAQE9QVElPTlN8QEBSRU1TRVJWRVJ8QEBTRVJWRVJOQU1FfEBAU0VSVklDRU5BTUV8QEBTUElEfEBAVEVYVFNJWkV8QEBWRVJTSU9OfFwiICtcbiAgICAgICAgXCJDQVNUfENPTlZFUlR8UEFSU0V8VFJZX0NBU1R8VFJZX0NPTlZFUlR8VFJZX1BBUlNFXCIgK1xuICAgICAgICBcIkBAQ1VSU09SX1JPV1N8QEBGRVRDSF9TVEFUVVN8Q1VSU09SX1NUQVRVU3xcIiArXG4gICAgICAgIFwiQEBEQVRFRklSU1R8QEBMQU5HVUFHRXxDVVJSRU5UX1RJTUVTVEFNUHxEQVRFQUREfERBVEVESUZGfERBVEVGUk9NUEFSVFN8REFURU5BTUV8REFURVBBUlR8REFURVRJTUUyRlJPTVBBUlRTfERBVEVUSU1FRlJPTVBBUlRTfERBVEVUSU1FT0ZGU0VURlJPTVBBUlRTfERBWXxFT01PTlRIfEdFVERBVEV8R0VUVVRDREFURXxJU0RBVEV8TU9OVEh8U0VUIERBVEVGSVJTVHxTRVQgREFURUZPUk1BVHxTRVQgTEFOR1VBR0V8U01BTExEQVRFVElNRUZST01QQVJUU3xTUF9IRUxQTEFOR1VBR0V8U1dJVENIT0ZGU0VUfFNZU0RBVEVUSU1FfFNZU0RBVEVUSU1FT0ZGU0VUfFNZU1VUQ0RBVEVUSU1FfFRJTUVGUk9NUEFSVFN8VE9EQVRFVElNRU9GRlNFVHxZRUFSfFwiICtcbiAgICAgICAgXCJDSE9PU0V8SUlGfFwiICtcbiAgICAgICAgXCJBQlN8QUNPU3xBU0lOfEFUQU58QVROMnxDRUlMSU5HfENPU3xDT1R8REVHUkVFU3xFWFB8RkxPT1J8TE9HfExPRzEwfFBJfFBPV0VSfFJBRElBTlN8UkFORHxST1VORHxTSUdOfFNJTnxTUVJUfFNRVUFSRXxUQU58XCIgK1xuICAgICAgICBcIkBAUFJPQ0lEfEFQUExPQ0tfTU9ERXxBUFBMT0NLX1RFU1R8QVBQX05BTUV8QVNTRU1CTFlQUk9QRVJUWXxDT0xVTU5QUk9QRVJUWXxDT0xfTEVOR1RIfENPTF9OQU1FfERBVEFCQVNFUFJPUEVSVFlFWHxEQVRBQkFTRV9QUklOQ0lQQUxfSUR8REJfSUR8REJfTkFNRXxGSUxFR1JPVVBQUk9QRVJUWXxGSUxFR1JPVVBfSUR8RklMRUdST1VQX05BTUV8RklMRVBST1BFUlRZfEZJTEVfSUR8RklMRV9JREVYfEZJTEVfTkFNRXxGVUxMVEVYVENBVEFMT0dQUk9QRVJUWXxGVUxMVEVYVFNFUlZJQ0VQUk9QRVJUWXxJTkRFWEtFWV9QUk9QRVJUWXxJTkRFWFBST1BFUlRZfElOREVYX0NPTHxPQkpFQ1RQUk9QRVJUWXxPQkpFQ1RQUk9QRVJUWUVYfE9CSkVDVF9ERUZJTklUSU9OfE9CSkVDVF9JRHxPQkpFQ1RfTkFNRXxPQkpFQ1RfU0NIRU1BX05BTUV8T1JJR0lOQUxfREJfTkFNRXxQQVJTRU5BTUV8U0NIRU1BX0lEfFNDSEVNQV9OQU1FfFNDT1BFX0lERU5USVRZfFNFUlZFUlBST1BFUlRZfFNUQVRTX0RBVEV8VFlQRVBST1BFUlRZfFRZUEVfSUR8VFlQRV9OQU1FfFwiICtcbiAgICAgICAgXCJDRVJURU5DT0RFRHxDRVJUUFJJVkFURUtFWXxDVVJSRU5UX1VTRVJ8REFUQUJBU0VfUFJJTkNJUEFMX0lEfEhBU19QRVJNU19CWV9OQU1FfElTX01FTUJFUnxJU19ST0xFTUVNQkVSfElTX1NSVlJPTEVNRU1CRVJ8T1JJR0lOQUxfTE9HSU58UEVSTUlTU0lPTlN8UFdEQ09NUEFSRXxQV0RFTkNSWVBUfFNDSEVNQV9JRHxTQ0hFTUFfTkFNRXxTRVNTSU9OX1VTRVJ8U1VTRVJfSUR8U1VTRVJfTkFNRXxTVVNFUl9TSUR8U1VTRVJfU05BTUV8U1lTLkZOX0JVSUxUSU5fUEVSTUlTU0lPTlN8U1lTLkZOX0dFVF9BVURJVF9GSUxFfFNZUy5GTl9NWV9QRVJNSVNTSU9OU3xTWVNURU1fVVNFUnxVU0VSX0lEfFVTRVJfTkFNRXxcIiArXG4gICAgICAgIFwiQVNDSUl8Q0hBUnxDSEFSSU5ERVh8Q09OQ0FUfERJRkZFUkVOQ0V8Rk9STUFUfExFTnxMT1dFUnxMVFJJTXxOQ0hBUnxQQVRJTkRFWHxRVU9URU5BTUV8UkVQTEFDRXxSRVBMSUNBVEV8UkVWRVJTRXxSVFJJTXxTT1VOREVYfFNQQUNFfFNUUnxTVFVGRnxTVUJTVFJJTkd8VU5JQ09ERXxVUFBFUnxcIiArXG4gICAgICAgIFwiJFBBUlRJVElPTnxAQEVSUk9SfEBASURFTlRJVFl8QEBQQUNLX1JFQ0VJVkVEfEBAUk9XQ09VTlR8QEBUUkFOQ09VTlR8QklOQVJZX0NIRUNLU1VNfENIRUNLU1VNfENPTk5FQ1RJT05QUk9QRVJUWXxDT05URVhUX0lORk98Q1VSUkVOVF9SRVFVRVNUX0lEfEVSUk9SX0xJTkV8RVJST1JfTUVTU0FHRXxFUlJPUl9OVU1CRVJ8RVJST1JfUFJPQ0VEVVJFfEVSUk9SX1NFVkVSSVRZfEVSUk9SX1NUQVRFfEZPUk1BVE1FU1NBR0V8R0VUQU5TSU5VTEx8R0VUX0ZJTEVTVFJFQU1fVFJBTlNBQ1RJT05fQ09OVEVYVHxIT1NUX0lEfEhPU1RfTkFNRXxJU05VTEx8SVNOVU1FUklDfE1JTl9BQ1RJVkVfUk9XVkVSU0lPTnxORVdJRHxORVdTRVFVRU5USUFMSUR8Uk9XQ09VTlRfQklHfFhBQ1RfU1RBVEV8XCIgK1xuICAgICAgICBcIkBAQ09OTkVDVElPTlN8QEBDUFVfQlVTWXxAQElETEV8QEBJT19CVVNZfEBAUEFDS0VUX0VSUk9SU3xAQFBBQ0tfUkVDRUlWRUR8QEBQQUNLX1NFTlR8QEBUSU1FVElDS1N8QEBUT1RBTF9FUlJPUlN8QEBUT1RBTF9SRUFEfEBAVE9UQUxfV1JJVEV8Rk5fVklSVFVBTEZJTEVTVEFUU3xcIiArXG4gICAgICAgIFwiUEFUSU5ERVh8VEVYVFBUUnxURVhUVkFMSUR8XCIgK1xuICAgICAgICBcIkNPQUxFU0NFfE5VTExJRlwiXG4gICAgKTtcbiAgICB2YXIgZGF0YVR5cGVzID0gKFwiQklHSU5UfEJJTkFSWXxCSVR8Q0hBUnxDVVJTT1J8REFURXxEQVRFVElNRXxEQVRFVElNRTJ8REFURVRJTUVPRkZTRVR8REVDSU1BTHxGTE9BVHxISUVSQVJDSFlJRHxJTUFHRXxJTlRFR0VSfElOVHxNT05FWXxOQ0hBUnxOVEVYVHxOVU1FUklDfE5WQVJDSEFSfFJFQUx8U01BTExEQVRFVElNRXxTTUFMTElOVHxTTUFMTE1PTkVZfFNRTF9WQVJJQU5UfFRBQkxFfFRFWFR8VElNRXxUSU1FU1RBTVB8VElOWUlOVHxVTklRVUVJREVOVElGSUVSfFZBUkJJTkFSWXxWQVJDSEFSfFhNTFwiKTtcbiAgICB2YXIgYnVpbHRJblN0b3JlZFByb2NlZHVyZXMgPSBcInNwX2FkZGV4dGVuZGVkcHJvY3xzcF9hZGRleHRlbmRlZHByb3BlcnR5fHNwX2FkZG1lc3NhZ2V8c3BfYWRkdHlwZXxzcF9hZGR1bXBkZXZpY2V8c3BfYWRkX2RhdGFfZmlsZV9yZWNvdmVyX3N1c3BlY3RfZGJ8c3BfYWRkX2xvZ19maWxlX3JlY292ZXJfc3VzcGVjdF9kYnxzcF9hbHRlcm1lc3NhZ2V8c3BfYXR0YWNoX2RifHNwX2F0dGFjaF9zaW5nbGVfZmlsZV9kYnxzcF9hdXRvc3RhdHN8c3BfYmluZGVmYXVsdHxzcF9iaW5kcnVsZXxzcF9iaW5kc2Vzc2lvbnxzcF9jZXJ0aWZ5X3JlbW92YWJsZXxzcF9jbGVhbl9kYl9maWxlX2ZyZWVfc3BhY2V8c3BfY2xlYW5fZGJfZnJlZV9zcGFjZXxzcF9jb25maWd1cmV8c3BfY29udHJvbF9wbGFuX2d1aWRlfHNwX2NyZWF0ZXN0YXRzfHNwX2NyZWF0ZV9wbGFuX2d1aWRlfHNwX2NyZWF0ZV9wbGFuX2d1aWRlX2Zyb21faGFuZGxlfHNwX2NyZWF0ZV9yZW1vdmFibGV8c3BfY3ljbGVfZXJyb3Jsb2d8c3BfZGF0YXR5cGVfaW5mb3xzcF9kYmNtcHRsZXZlbHxzcF9kYm1tb25pdG9yYWRkbW9uaXRvcmluZ3xzcF9kYm1tb25pdG9yY2hhbmdlYWxlcnR8c3BfZGJtbW9uaXRvcmNoYW5nZW1vbml0b3Jpbmd8c3BfZGJtbW9uaXRvcmRyb3BhbGVydHxzcF9kYm1tb25pdG9yZHJvcG1vbml0b3Jpbmd8c3BfZGJtbW9uaXRvcmhlbHBhbGVydHxzcF9kYm1tb25pdG9yaGVscG1vbml0b3Jpbmd8c3BfZGJtbW9uaXRvcnJlc3VsdHN8c3BfZGJfaW5jcmVhc2VkX3BhcnRpdGlvbnN8c3BfZGVsZXRlX2JhY2t1cGhpc3Rvcnl8c3BfZGVwZW5kc3xzcF9kZXNjcmliZV9maXJzdF9yZXN1bHRfc2V0fHNwX2Rlc2NyaWJlX3VuZGVjbGFyZWRfcGFyYW1ldGVyc3xzcF9kZXRhY2hfZGJ8c3BfZHJvcGRldmljZXxzcF9kcm9wZXh0ZW5kZWRwcm9jfHNwX2Ryb3BleHRlbmRlZHByb3BlcnR5fHNwX2Ryb3BtZXNzYWdlfHNwX2Ryb3B0eXBlfHNwX2V4ZWN1dGV8c3BfZXhlY3V0ZXNxbHxzcF9nZXRhcHBsb2NrfHNwX2dldGJpbmR0b2tlbnxzcF9oZWxwfHNwX2hlbHBjb25zdHJhaW50fHNwX2hlbHBkYnxzcF9oZWxwZGV2aWNlfHNwX2hlbHBleHRlbmRlZHByb2N8c3BfaGVscGZpbGV8c3BfaGVscGZpbGVncm91cHxzcF9oZWxwaW5kZXh8c3BfaGVscGxhbmd1YWdlfHNwX2hlbHBzZXJ2ZXJ8c3BfaGVscHNvcnR8c3BfaGVscHN0YXRzfHNwX2hlbHB0ZXh0fHNwX2hlbHB0cmlnZ2VyfHNwX2luZGV4b3B0aW9ufHNwX2ludmFsaWRhdGVfdGV4dHB0cnxzcF9sb2NrfHNwX21vbml0b3J8c3BfcHJlcGFyZXxzcF9wcmVwZXhlY3xzcF9wcmVwZXhlY3JwY3xzcF9wcm9jb3B0aW9ufHNwX3JlY29tcGlsZXxzcF9yZWZyZXNodmlld3xzcF9yZWxlYXNlYXBwbG9ja3xzcF9yZW5hbWV8c3BfcmVuYW1lZGJ8c3BfcmVzZXRzdGF0dXN8c3Bfc2VxdWVuY2VfZ2V0X3JhbmdlfHNwX3NlcnZlcm9wdGlvbnxzcF9zZXRuZXRuYW1lfHNwX3NldHRyaWdnZXJvcmRlcnxzcF9zcGFjZXVzZWR8c3BfdGFibGVvcHRpb258c3BfdW5iaW5kZWZhdWx0fHNwX3VuYmluZHJ1bGV8c3BfdW5wcmVwYXJlfHNwX3VwZGF0ZWV4dGVuZGVkcHJvcGVydHl8c3BfdXBkYXRlc3RhdHN8c3BfdmFsaWRuYW1lfHNwX3dob3xzeXMuc3BfbWVyZ2VfeHRwX2NoZWNrcG9pbnRfZmlsZXN8c3lzLnNwX3h0cF9iaW5kX2RiX3Jlc291cmNlX3Bvb2x8c3lzLnNwX3h0cF9jaGVja3BvaW50X2ZvcmNlX2dhcmJhZ2VfY29sbGVjdGlvbnxzeXMuc3BfeHRwX2NvbnRyb2xfcHJvY19leGVjX3N0YXRzfHN5cy5zcF94dHBfY29udHJvbF9xdWVyeV9leGVjX3N0YXRzfHN5cy5zcF94dHBfdW5iaW5kX2RiX3Jlc291cmNlX3Bvb2xcIjtcbiAgICB2YXIga2V5d29yZHMgPSBcIkFCU09MVVRFfEFDVElPTnxBREF8QUREfEFETUlOfEFGVEVSfEFHR1JFR0FURXxBTElBU3xBTEx8QUxMT0NBVEV8QUxURVJ8QU5EfEFOWXxBUkV8QVJSQVl8QVN8QVNDfEFTRU5TSVRJVkV8QVNTRVJUSU9OfEFTWU1NRVRSSUN8QVR8QVRPTUlDfEFVVEhPUklaQVRJT058QkFDS1VQfEJFRk9SRXxCRUdJTnxCRVRXRUVOfEJJVF9MRU5HVEh8QkxPQnxCT09MRUFOfEJPVEh8QlJFQURUSHxCUkVBS3xCUk9XU0V8QlVMS3xCWXxDQUxMfENBTExFRHxDQVJESU5BTElUWXxDQVNDQURFfENBU0NBREVEfENBU0V8Q0FUQUxPR3xDSEFSQUNURVJ8Q0hBUkFDVEVSX0xFTkdUSHxDSEFSX0xFTkdUSHxDSEVDS3xDSEVDS1BPSU5UfENMQVNTfENMT0J8Q0xPU0V8Q0xVU1RFUkVEfENPQUxFU0NFfENPTExBVEV8Q09MTEFUSU9OfENPTExFQ1R8Q09MVU1OfENPTU1JVHxDT01QTEVUSU9OfENPTVBVVEV8Q09ORElUSU9OfENPTk5FQ1R8Q09OTkVDVElPTnxDT05TVFJBSU5UfENPTlNUUkFJTlRTfENPTlNUUlVDVE9SfENPTlRBSU5TfENPTlRBSU5TVEFCTEV8Q09OVElOVUV8Q09SUnxDT1JSRVNQT05ESU5HfENPVkFSX1BPUHxDT1ZBUl9TQU1QfENSRUFURXxDUk9TU3xDVUJFfENVTUVfRElTVHxDVVJSRU5UfENVUlJFTlRfQ0FUQUxPR3xDVVJSRU5UX0RBVEV8Q1VSUkVOVF9ERUZBVUxUX1RSQU5TRk9STV9HUk9VUHxDVVJSRU5UX1BBVEh8Q1VSUkVOVF9ST0xFfENVUlJFTlRfU0NIRU1BfENVUlJFTlRfVElNRXxDVVJSRU5UX1RSQU5TRk9STV9HUk9VUF9GT1JfVFlQRXxDWUNMRXxEQVRBfERBVEFCQVNFfERCQ0N8REVBTExPQ0FURXxERUN8REVDTEFSRXxERUZBVUxUfERFRkVSUkFCTEV8REVGRVJSRUR8REVMRVRFfERFTll8REVQVEh8REVSRUZ8REVTQ3xERVNDUklCRXxERVNDUklQVE9SfERFU1RST1l8REVTVFJVQ1RPUnxERVRFUk1JTklTVElDfERJQUdOT1NUSUNTfERJQ1RJT05BUll8RElTQ09OTkVDVHxESVNLfERJU1RJTkNUfERJU1RSSUJVVEVEfERPTUFJTnxET1VCTEV8RFJPUHxEVU1QfERZTkFNSUN8RUFDSHxFTEVNRU5UfEVMU0V8RU5EfEVORC1FWEVDfEVRVUFMU3xFUlJMVkx8RVNDQVBFfEVWRVJZfEVYQ0VQVHxFWENFUFRJT058RVhFQ3xFWEVDVVRFfEVYSVNUU3xFWElUfEVYVEVSTkFMfEVYVFJBQ1R8RkVUQ0h8RklMRXxGSUxMRkFDVE9SfEZJTFRFUnxGSVJTVHxGT1J8Rk9SRUlHTnxGT1JUUkFOfEZPVU5EfEZSRUV8RlJFRVRFWFR8RlJFRVRFWFRUQUJMRXxGUk9NfEZVTEx8RlVMTFRFWFRUQUJMRXxGVU5DVElPTnxGVVNJT058R0VORVJBTHxHRVR8R0xPQkFMfEdPfEdPVE98R1JBTlR8R1JPVVB8SEFWSU5HfEhPTER8SE9MRExPQ0t8SE9TVHxIT1VSfElERU5USVRZfElERU5USVRZQ09MfElERU5USVRZX0lOU0VSVHxJRnxJR05PUkV8SU1NRURJQVRFfElOfElOQ0xVREV8SU5ERVh8SU5ESUNBVE9SfElOSVRJQUxJWkV8SU5JVElBTExZfElOTkVSfElOT1VUfElOUFVUfElOU0VOU0lUSVZFfElOU0VSVHxJTlRFR0VSfElOVEVSU0VDVHxJTlRFUlNFQ1RJT058SU5URVJWQUx8SU5UT3xJU3xJU09MQVRJT058SVRFUkFURXxKT0lOfEtFWXxLSUxMfExBTkdVQUdFfExBUkdFfExBU1R8TEFURVJBTHxMRUFESU5HfExFU1N8TEVWRUx8TElLRXxMSUtFX1JFR0VYfExJTUlUfExJTkVOT3xMTnxMT0FEfExPQ0FMfExPQ0FMVElNRXxMT0NBTFRJTUVTVEFNUHxMT0NBVE9SfE1BUHxNQVRDSHxNRU1CRVJ8TUVSR0V8TUVUSE9EfE1JTlVURXxNT0R8TU9ESUZJRVN8TU9ESUZZfE1PRFVMRXxNVUxUSVNFVHxOQU1FU3xOQVRJT05BTHxOQVRVUkFMfE5DTE9CfE5FV3xORVhUfE5PfE5PQ0hFQ0t8Tk9OQ0xVU1RFUkVEfE5PTkV8Tk9STUFMSVpFfE5PVHxOVUxMfE5VTExJRnxPQkpFQ1R8T0NDVVJSRU5DRVNfUkVHRVh8T0NURVRfTEVOR1RIfE9GfE9GRnxPRkZTRVRTfE9MRHxPTnxPTkxZfE9QRU58T1BFUkFUSU9OfE9QVElPTnxPUnxPUkRFUnxPUkRJTkFMSVRZfE9VVHxPVVRFUnxPVVRQVVR8T1ZFUnxPVkVSTEFQU3xPVkVSTEFZfFBBRHxQQVJBTUVURVJ8UEFSQU1FVEVSU3xQQVJUSUFMfFBBUlRJVElPTnxQQVNDQUx8UEFUSHxQRVJDRU5UfFBFUkNFTlRJTEVfQ09OVHxQRVJDRU5USUxFX0RJU0N8UEVSQ0VOVF9SQU5LfFBJVk9UfFBMQU58UE9TSVRJT058UE9TSVRJT05fUkVHRVh8UE9TVEZJWHxQUkVDSVNJT058UFJFRklYfFBSRU9SREVSfFBSRVBBUkV8UFJFU0VSVkV8UFJJTUFSWXxQUklOVHxQUklPUnxQUklWSUxFR0VTfFBST0N8UFJPQ0VEVVJFfFBVQkxJQ3xSQUlTRVJST1J8UkFOR0V8UkVBRHxSRUFEU3xSRUFEVEVYVHxSRUNPTkZJR1VSRXxSRUNVUlNJVkV8UkVGfFJFRkVSRU5DRVN8UkVGRVJFTkNJTkd8UkVHUl9BVkdYfFJFR1JfQVZHWXxSRUdSX0NPVU5UfFJFR1JfSU5URVJDRVBUfFJFR1JfUjJ8UkVHUl9TTE9QRXxSRUdSX1NYWHxSRUdSX1NYWXxSRUdSX1NZWXxSRUxBVElWRXxSRUxFQVNFfFJFUExJQ0FUSU9OfFJFU1RPUkV8UkVTVFJJQ1R8UkVTVUxUfFJFVFVSTnxSRVRVUk5TfFJFVkVSVHxSRVZPS0V8Uk9MRXxST0xMQkFDS3xST0xMVVB8Uk9VVElORXxST1d8Uk9XQ09VTlR8Uk9XR1VJRENPTHxST1dTfFJVTEV8U0FWRXxTQVZFUE9JTlR8U0NIRU1BfFNDT1BFfFNDUk9MTHxTRUFSQ0h8U0VDT05EfFNFQ1RJT058U0VDVVJJVFlBVURJVHxTRUxFQ1R8U0VNQU5USUNLRVlQSFJBU0VUQUJMRXxTRU1BTlRJQ1NJTUlMQVJJVFlERVRBSUxTVEFCTEV8U0VNQU5USUNTSU1JTEFSSVRZVEFCTEV8U0VOU0lUSVZFfFNFUVVFTkNFfFNFU1NJT058U0VUfFNFVFN8U0VUVVNFUnxTSFVURE9XTnxTSU1JTEFSfFNJWkV8U09NRXxTUEVDSUZJQ3xTUEVDSUZJQ1RZUEV8U1FMfFNRTENBfFNRTENPREV8U1FMRVJST1J8U1FMRVhDRVBUSU9OfFNRTFNUQVRFfFNRTFdBUk5JTkd8U1RBUlR8U1RBVEV8U1RBVEVNRU5UfFNUQVRJQ3xTVEFUSVNUSUNTfFNURERFVl9QT1B8U1REREVWX1NBTVB8U1RSVUNUVVJFfFNVQk1VTFRJU0VUfFNVQlNUUklOR19SRUdFWHxTWU1NRVRSSUN8U1lTVEVNfFRBQkxFU0FNUExFfFRFTVBPUkFSWXxURVJNSU5BVEV8VEVYVFNJWkV8VEhBTnxUSEVOfFRJTUVaT05FX0hPVVJ8VElNRVpPTkVfTUlOVVRFfFRPfFRPUHxUUkFJTElOR3xUUkFOfFRSQU5TQUNUSU9OfFRSQU5TTEFURXxUUkFOU0xBVEVfUkVHRVh8VFJBTlNMQVRJT058VFJFQVR8VFJJR0dFUnxUUklNfFRSVU5DQVRFfFRTRVFVQUx8VUVTQ0FQRXxVTkRFUnxVTklPTnxVTklRVUV8VU5LTk9XTnxVTk5FU1R8VU5QSVZPVHxVUERBVEV8VVBEQVRFVEVYVHxVU0FHRXxVU0V8VVNFUnxVU0lOR3xWQUxVRXxWQUxVRVN8VkFSSUFCTEV8VkFSWUlOR3xWQVJfUE9QfFZBUl9TQU1QfFZJRVd8V0FJVEZPUnxXSEVOfFdIRU5FVkVSfFdIRVJFfFdISUxFfFdJRFRIX0JVQ0tFVHxXSU5ET1d8V0lUSHxXSVRISU58V0lUSElOIEdST1VQfFdJVEhPVVR8V09SS3xXUklURXxXUklURVRFWFR8WE1MQUdHfFhNTEFUVFJJQlVURVN8WE1MQklOQVJZfFhNTENBU1R8WE1MQ09NTUVOVHxYTUxDT05DQVR8WE1MRE9DVU1FTlR8WE1MRUxFTUVOVHxYTUxFWElTVFN8WE1MRk9SRVNUfFhNTElURVJBVEV8WE1MTkFNRVNQQUNFU3xYTUxQQVJTRXxYTUxQSXxYTUxRVUVSWXxYTUxTRVJJQUxJWkV8WE1MVEFCTEV8WE1MVEVYVHxYTUxWQUxJREFURXxaT05FXCI7XG4gICAga2V5d29yZHMgKz0gXCJ8S0VFUElERU5USVRZfEtFRVBERUZBVUxUU3xJR05PUkVfQ09OU1RSQUlOVFN8SUdOT1JFX1RSSUdHRVJTfFhMT0NLfEZPUkNFU0NBTnxGT1JDRVNFRUt8SE9MRExPQ0t8Tk9MT0NLfE5PV0FJVHxQQUdMT0NLfFJFQURDT01NSVRURUR8UkVBRENPTU1JVFRFRExPQ0t8UkVBRFBBU1R8UkVBRFVOQ09NTUlUVEVEfFJFUEVBVEFCTEVSRUFEfFJPV0xPQ0t8U0VSSUFMSVpBQkxFfFNOQVBTSE9UfFNQQVRJQUxfV0lORE9XX01BWF9DRUxMU3xUQUJMT0NLfFRBQkxPQ0tYfFVQRExPQ0t8WExPQ0t8SUdOT1JFX05PTkNMVVNURVJFRF9DT0xVTU5TVE9SRV9JTkRFWHxFWFBBTkR8VklFV1N8RkFTVHxGT1JDRXxLRUVQfEtFRVBGSVhFRHxNQVhET1B8TUFYUkVDVVJTSU9OfE9QVElNSVpFfFBBUkFNRVRFUklaQVRJT058U0lNUExFfEZPUkNFRHxSRUNPTVBJTEV8Uk9CVVNUfFBMQU58U1BBVElBTF9XSU5ET1dfTUFYX0NFTExTfE5PRVhQQU5EfEhJTlRcIjtcbiAgICBrZXl3b3JkcyArPSBcInxMT09QfEhBU0h8TUVSR0V8UkVNT1RFXCI7XG4gICAga2V5d29yZHMgKz0gXCJ8VFJZfENBVENIfFRIUk9XXCI7XG4gICAga2V5d29yZHMgKz0gXCJ8VFlQRVwiO1xuICAgIGtleXdvcmRzID0ga2V5d29yZHMuc3BsaXQoJ3wnKTtcbiAgICBrZXl3b3JkcyA9IGtleXdvcmRzLmZpbHRlcihmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIGxvZ2ljYWxPcGVyYXRvcnMuc3BsaXQoJ3wnKS5pbmRleE9mKHZhbHVlKSA9PT0gLTEgJiYgYnVpbHRpbkZ1bmN0aW9ucy5zcGxpdCgnfCcpLmluZGV4T2YodmFsdWUpID09PSAtMSAmJiBkYXRhVHlwZXMuc3BsaXQoJ3wnKS5pbmRleE9mKHZhbHVlKSA9PT0gLTE7XG4gICAgfSk7XG4gICAga2V5d29yZHMgPSBrZXl3b3Jkcy5zb3J0KCkuam9pbignfCcpO1xuICAgIFxuICAgIFxuICAgIHZhciBrZXl3b3JkTWFwcGVyID0gdGhpcy5jcmVhdGVLZXl3b3JkTWFwcGVyKHtcbiAgICAgICAgXCJjb25zdGFudC5sYW5ndWFnZVwiOiBsb2dpY2FsT3BlcmF0b3JzLFxuICAgICAgICBcInN0b3JhZ2UudHlwZVwiOiBkYXRhVHlwZXMsXG4gICAgICAgIFwic3VwcG9ydC5mdW5jdGlvblwiOiBidWlsdGluRnVuY3Rpb25zLFxuICAgICAgICBcInN1cHBvcnQuc3RvcmVkcHJvY2VkdXJlXCI6IGJ1aWx0SW5TdG9yZWRQcm9jZWR1cmVzLFxuICAgICAgICBcImtleXdvcmRcIjoga2V5d29yZHNcbiAgICB9LCBcImlkZW50aWZpZXJcIiwgdHJ1ZSk7XG4gICAgdmFyIHNldFN0YXRlbWVudHMgPSBcIlNFVCBBTlNJX0RFRkFVTFRTfFNFVCBBTlNJX05VTExTfFNFVCBBTlNJX05VTExfREZMVF9PRkZ8U0VUIEFOU0lfTlVMTF9ERkxUX09OfFNFVCBBTlNJX1BBRERJTkd8U0VUIEFOU0lfV0FSTklOR1N8U0VUIEFSSVRIQUJPUlR8U0VUIEFSSVRISUdOT1JFfFNFVCBDT05DQVRfTlVMTF9ZSUVMRFNfTlVMTHxTRVQgQ1VSU09SX0NMT1NFX09OX0NPTU1JVHxTRVQgREFURUZJUlNUfFNFVCBEQVRFRk9STUFUfFNFVCBERUFETE9DS19QUklPUklUWXxTRVQgRklQU19GTEFHR0VSfFNFVCBGTVRPTkxZfFNFVCBGT1JDRVBMQU58U0VUIElERU5USVRZX0lOU0VSVHxTRVQgSU1QTElDSVRfVFJBTlNBQ1RJT05TfFNFVCBMQU5HVUFHRXxTRVQgTE9DS19USU1FT1VUfFNFVCBOT0NPVU5UfFNFVCBOT0VYRUN8U0VUIE5VTUVSSUNfUk9VTkRBQk9SVHxTRVQgT0ZGU0VUU3xTRVQgUEFSU0VPTkxZfFNFVCBRVUVSWV9HT1ZFUk5PUl9DT1NUX0xJTUlUfFNFVCBRVU9URURfSURFTlRJRklFUnxTRVQgUkVNT1RFX1BST0NfVFJBTlNBQ1RJT05TfFNFVCBST1dDT1VOVHxTRVQgU0hPV1BMQU5fQUxMfFNFVCBTSE9XUExBTl9URVhUfFNFVCBTSE9XUExBTl9YTUx8U0VUIFNUQVRJU1RJQ1MgSU98U0VUIFNUQVRJU1RJQ1MgUFJPRklMRXxTRVQgU1RBVElTVElDUyBUSU1FfFNFVCBTVEFUSVNUSUNTIFhNTHxTRVQgVEVYVFNJWkV8U0VUIFhBQ1RfQUJPUlRcIi5zcGxpdCgnfCcpO1xuICAgIHZhciBpc29sYXRpb25MZXZlbHMgPSBcIlJFQUQgVU5DT01NSVRURUR8UkVBRCBDT01NSVRURUR8UkVQRUFUQUJMRSBSRUFEfFNOQVBTSE9QfFNFUklBTElaQUJMRVwiLnNwbGl0KCd8Jyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpc29sYXRpb25MZXZlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2V0U3RhdGVtZW50cy5wdXNoKCdTRVQgVFJBTlNBQ1RJT04gSVNPTEFUSU9OIExFVkVMICcgKyBpc29sYXRpb25MZXZlbHNbaV0pO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICB0aGlzLiRydWxlcyA9IHtcbiAgICAgICAgc3RhcnQ6IFt7XG4gICAgICAgICAgICB0b2tlbjogXCJzdHJpbmcuc3RhcnRcIixcbiAgICAgICAgICAgIHJlZ2V4OiBcIidcIixcbiAgICAgICAgICAgIG5leHQ6IFt7XG4gICAgICAgICAgICAgICAgdG9rZW46IFwiY29uc3RhbnQubGFuZ3VhZ2UuZXNjYXBlXCIsXG4gICAgICAgICAgICAgICAgcmVnZXg6IC8nJy9cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0b2tlbjogXCJzdHJpbmcuZW5kXCIsXG4gICAgICAgICAgICAgICAgbmV4dDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgIHJlZ2V4OiBcIidcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogXCJzdHJpbmdcIlxuICAgICAgICAgICAgfV1cbiAgICAgICAgfSxcbiAgICAgICAgRG9jQ29tbWVudEhpZ2hsaWdodFJ1bGVzLmdldFN0YXJ0UnVsZShcImRvYy1zdGFydFwiKSwge1xuICAgICAgICAgICAgdG9rZW46IFwiY29tbWVudFwiLFxuICAgICAgICAgICAgcmVnZXg6IFwiLS0uKiRcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbjogXCJjb21tZW50XCIsXG4gICAgICAgICAgICBzdGFydDogXCIvXFxcXCpcIixcbiAgICAgICAgICAgIGVuZDogXCJcXFxcKi9cIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbjogXCJjb25zdGFudC5udW1lcmljXCIsIC8vIGZsb2F0XG4gICAgICAgICAgICByZWdleDogXCJbKy1dP1xcXFxkKyg/Oig/OlxcXFwuXFxcXGQqKT8oPzpbZUVdWystXT9cXFxcZCspPyk/XFxcXGJcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0b2tlbjoga2V5d29yZE1hcHBlcixcbiAgICAgICAgICAgIHJlZ2V4OiBcIkB7MCwyfVthLXpBLVpfJF1bYS16QS1aMC05XyRdKlxcXFxiKD8hXSlcIiAvL3VwIHRvIDIgQHN5bWJvbHMgZm9yIHNvbWUgYnVpbHQgaW4gZnVuY3Rpb25zXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuOiBcImNvbnN0YW50LmNsYXNzXCIsXG4gICAgICAgICAgICByZWdleDogXCJAQD9bYS16QS1aXyRdW2EtekEtWjAtOV8kXSpcXFxcYlwiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuOiBcImtleXdvcmQub3BlcmF0b3JcIixcbiAgICAgICAgICAgIHJlZ2V4OiBcIlxcXFwrfFxcXFwtfFxcXFwvfFxcXFwvXFxcXC98JXw8QD58QD58PEB8JnxcXFxcXnx+fDx8Pnw8PXw9Pnw9PXwhPXw8Pnw9fFxcXFwqXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW46IFwicGFyZW4ubHBhcmVuXCIsXG4gICAgICAgICAgICByZWdleDogXCJbXFxcXChdXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW46IFwicGFyZW4ucnBhcmVuXCIsXG4gICAgICAgICAgICByZWdleDogXCJbXFxcXCldXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdG9rZW46IFwicHVuY3R1YXRpb25cIixcbiAgICAgICAgICAgIHJlZ2V4OiBcIix8O1wiXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRva2VuOiBcInRleHRcIixcbiAgICAgICAgICAgIHJlZ2V4OiBcIlxcXFxzK1wiXG4gICAgICAgIH1dLFxuICAgICAgICBjb21tZW50OiBbXG4gICAgICAgIERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcy5nZXRUYWdSdWxlKCksIHtcbiAgICAgICAgICAgIHRva2VuOiBcImNvbW1lbnRcIixcbiAgICAgICAgICAgIHJlZ2V4OiBcIlxcXFwqXFxcXC9cIixcbiAgICAgICAgICAgIG5leHQ6IFwibm9fcmVnZXhcIlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0VG9rZW46IFwiY29tbWVudFwiLFxuICAgICAgICAgICAgY2FzZUluc2Vuc2l0aXZlOiB0cnVlXG4gICAgICAgIH1dXG4gICAgfTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNldFN0YXRlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy4kcnVsZXMuc3RhcnQudW5zaGlmdCh7XG4gICAgICAgICAgICB0b2tlbjogXCJzZXQuc3RhdGVtZW50XCIsXG4gICAgICAgICAgICByZWdleDogc2V0U3RhdGVtZW50c1tpXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5lbWJlZFJ1bGVzKERvY0NvbW1lbnRIaWdobGlnaHRSdWxlcywgXCJkb2MtXCIsIFtEb2NDb21tZW50SGlnaGxpZ2h0UnVsZXMuZ2V0RW5kUnVsZShcInN0YXJ0XCIpXSk7XG4gICAgdGhpcy5ub3JtYWxpemVSdWxlcygpO1xuICAgIHZhciBjb21wbGV0aW9ucyA9IFtdO1xuICAgIHZhciBhZGRDb21wbGV0aW9ucyA9IGZ1bmN0aW9uKGFyciwgbWV0YSkge1xuICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICBjb21wbGV0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiB2LFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2LFxuICAgICAgICAgICAgICAgIHNjb3JlOiAwLFxuICAgICAgICAgICAgICAgIG1ldGE6IG1ldGFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGFkZENvbXBsZXRpb25zKGJ1aWx0SW5TdG9yZWRQcm9jZWR1cmVzLnNwbGl0KCd8JyksICdwcm9jZWR1cmUnKTtcbiAgICBhZGRDb21wbGV0aW9ucyhsb2dpY2FsT3BlcmF0b3JzLnNwbGl0KCd8JyksICdvcGVyYXRvcicpO1xuICAgIGFkZENvbXBsZXRpb25zKGJ1aWx0aW5GdW5jdGlvbnMuc3BsaXQoJ3wnKSwgJ2Z1bmN0aW9uJyk7XG4gICAgYWRkQ29tcGxldGlvbnMoZGF0YVR5cGVzLnNwbGl0KCd8JyksICd0eXBlJyk7XG4gICAgYWRkQ29tcGxldGlvbnMoc2V0U3RhdGVtZW50cywgJ3N0YXRlbWVudCcpO1xuICAgIGFkZENvbXBsZXRpb25zKGtleXdvcmRzLnNwbGl0KCd8JyksICdrZXl3b3JkJyk7XG4gICAgXG4gICAgdGhpcy5jb21wbGV0aW9ucyA9IGNvbXBsZXRpb25zO1xufTtcblxub29wLmluaGVyaXRzKFNxbFNlcnZlckhpZ2hsaWdodFJ1bGVzLCBUZXh0SGlnaGxpZ2h0UnVsZXMpO1xuXG5leHBvcnRzLlNxbEhpZ2hsaWdodFJ1bGVzID0gU3FsU2VydmVySGlnaGxpZ2h0UnVsZXM7XG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlXCIsW1wicmVxdWlyZVwiLFwiZXhwb3J0c1wiLFwibW9kdWxlXCIsXCJhY2UvbGliL29vcFwiLFwiYWNlL3JhbmdlXCIsXCJhY2UvbW9kZS9mb2xkaW5nL2ZvbGRfbW9kZVwiXSwgZnVuY3Rpb24oYWNlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBvb3AgPSBhY2VxdWlyZShcIi4uLy4uL2xpYi9vb3BcIik7XG52YXIgUmFuZ2UgPSBhY2VxdWlyZShcIi4uLy4uL3JhbmdlXCIpLlJhbmdlO1xudmFyIEJhc2VGb2xkTW9kZSA9IGFjZXF1aXJlKFwiLi9mb2xkX21vZGVcIikuRm9sZE1vZGU7XG5cbnZhciBGb2xkTW9kZSA9IGV4cG9ydHMuRm9sZE1vZGUgPSBmdW5jdGlvbihjb21tZW50UmVnZXgpIHtcbiAgICBpZiAoY29tbWVudFJlZ2V4KSB7XG4gICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbmV3IFJlZ0V4cChcbiAgICAgICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyLnNvdXJjZS5yZXBsYWNlKC9cXHxbXnxdKj8kLywgXCJ8XCIgKyBjb21tZW50UmVnZXguc3RhcnQpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIgPSBuZXcgUmVnRXhwKFxuICAgICAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXFx8W158XSo/JC8sIFwifFwiICsgY29tbWVudFJlZ2V4LmVuZClcbiAgICAgICAgKTtcbiAgICB9XG59O1xub29wLmluaGVyaXRzKEZvbGRNb2RlLCBCYXNlRm9sZE1vZGUpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXG4gICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIgPSAvKFtcXHtcXFtcXChdKVteXFx9XFxdXFwpXSokfF5cXHMqKFxcL1xcKikvO1xuICAgIHRoaXMuZm9sZGluZ1N0b3BNYXJrZXIgPSAvXlteXFxbXFx7XFwoXSooW1xcfVxcXVxcKV0pfF5bXFxzXFwqXSooXFwqXFwvKS87XG4gICAgdGhpcy5zaW5nbGVMaW5lQmxvY2tDb21tZW50UmU9IC9eXFxzKihcXC9cXCopLipcXCpcXC9cXHMqJC87XG4gICAgdGhpcy50cmlwbGVTdGFyQmxvY2tDb21tZW50UmUgPSAvXlxccyooXFwvXFwqXFwqXFwqKS4qXFwqXFwvXFxzKiQvO1xuICAgIHRoaXMuc3RhcnRSZWdpb25SZSA9IC9eXFxzKihcXC9cXCp8XFwvXFwvKSM/cmVnaW9uXFxiLztcbiAgICB0aGlzLl9nZXRGb2xkV2lkZ2V0QmFzZSA9IHRoaXMuZ2V0Rm9sZFdpZGdldDtcbiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdykge1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgIFxuICAgICAgICBpZiAodGhpcy5zaW5nbGVMaW5lQmxvY2tDb21tZW50UmUudGVzdChsaW5lKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSAmJiAhdGhpcy50cmlwbGVTdGFyQmxvY2tDb21tZW50UmUudGVzdChsaW5lKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICB2YXIgZncgPSB0aGlzLl9nZXRGb2xkV2lkZ2V0QmFzZShzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdyk7XG4gICAgXG4gICAgICAgIGlmICghZncgJiYgdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkpXG4gICAgICAgICAgICByZXR1cm4gXCJzdGFydFwiOyAvLyBsaW5lQ29tbWVudFJlZ2lvblN0YXJ0XG4gICAgXG4gICAgICAgIHJldHVybiBmdztcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdywgZm9yY2VNdWx0aWxpbmUpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayhzZXNzaW9uLCBsaW5lLCByb3cpO1xuICAgICAgICBcbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyIGkgPSBtYXRjaC5pbmRleDtcblxuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpICsgbWF0Y2hbMF0ubGVuZ3RoLCAxKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJhbmdlICYmICFyYW5nZS5pc011bHRpTGluZSgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlTXVsdGlsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRTZWN0aW9uUmFuZ2Uoc2Vzc2lvbiwgcm93KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZvbGRTdHlsZSAhPSBcImFsbFwiKVxuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb2xkU3R5bGUgPT09IFwibWFya2JlZ2luXCIpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdG9wTWFya2VyKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2hbMV0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvc2luZ0JyYWNrZXRCbG9jayhzZXNzaW9uLCBtYXRjaFsxXSwgcm93LCBpKTtcblxuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGksIC0xKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgdGhpcy5nZXRTZWN0aW9uUmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uLCByb3cpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgdmFyIHN0YXJ0SW5kZW50ID0gbGluZS5zZWFyY2goL1xcUy8pO1xuICAgICAgICB2YXIgc3RhcnRSb3cgPSByb3c7XG4gICAgICAgIHZhciBzdGFydENvbHVtbiA9IGxpbmUubGVuZ3RoO1xuICAgICAgICByb3cgPSByb3cgKyAxO1xuICAgICAgICB2YXIgZW5kUm93ID0gcm93O1xuICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTtcbiAgICAgICAgd2hpbGUgKCsrcm93IDwgbWF4Um93KSB7XG4gICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7XG4gICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xcUy8pO1xuICAgICAgICAgICAgaWYgKGluZGVudCA9PT0gLTEpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAgKHN0YXJ0SW5kZW50ID4gaW5kZW50KVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgdmFyIHN1YlJhbmdlID0gdGhpcy5nZXRGb2xkV2lkZ2V0UmFuZ2Uoc2Vzc2lvbiwgXCJhbGxcIiwgcm93KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHN1YlJhbmdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YlJhbmdlLnN0YXJ0LnJvdyA8PSBzdGFydFJvdykge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1YlJhbmdlLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93ID0gc3ViUmFuZ2UuZW5kLnJvdztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0SW5kZW50ID09IGluZGVudCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmRSb3cgPSByb3c7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCBlbmRSb3csIHNlc3Npb24uZ2V0TGluZShlbmRSb3cpLmxlbmd0aCk7XG4gICAgfTtcbiAgICB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayA9IGZ1bmN0aW9uKHNlc3Npb24sIGxpbmUsIHJvdykge1xuICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLnNlYXJjaCgvXFxzKiQvKTtcbiAgICAgICAgdmFyIG1heFJvdyA9IHNlc3Npb24uZ2V0TGVuZ3RoKCk7XG4gICAgICAgIHZhciBzdGFydFJvdyA9IHJvdztcbiAgICAgICAgXG4gICAgICAgIHZhciByZSA9IC9eXFxzKig/OlxcL1xcKnxcXC9cXC98LS0pIz8oZW5kKT9yZWdpb25cXGIvO1xuICAgICAgICB2YXIgZGVwdGggPSAxO1xuICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHtcbiAgICAgICAgICAgIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTtcbiAgICAgICAgICAgIGlmICghbSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAobVsxXSkgZGVwdGgtLTtcbiAgICAgICAgICAgIGVsc2UgZGVwdGgrKztcblxuICAgICAgICAgICAgaWYgKCFkZXB0aCkgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZW5kUm93ID0gcm93O1xuICAgICAgICBpZiAoZW5kUm93ID4gc3RhcnRSb3cpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sdW1uLCBlbmRSb3csIGxpbmUubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbn0pLmNhbGwoRm9sZE1vZGUucHJvdG90eXBlKTtcblxufSk7XG5cbmFjZS5kZWZpbmUoXCJhY2UvbW9kZS9mb2xkaW5nL3NxbHNlcnZlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9yYW5nZVwiLFwiYWNlL21vZGUvZm9sZGluZy9jc3R5bGVcIl0sIGZ1bmN0aW9uKGFjZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHtcblwidXNlIHN0cmljdFwiO1xuXG52YXIgb29wID0gYWNlcXVpcmUoXCIuLi8uLi9saWIvb29wXCIpO1xudmFyIFJhbmdlID0gYWNlcXVpcmUoXCIuLi8uLi9yYW5nZVwiKS5SYW5nZTtcbnZhciBCYXNlRm9sZE1vZGUgPSBhY2VxdWlyZShcIi4vY3N0eWxlXCIpLkZvbGRNb2RlO1xuXG52YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24oKSB7fTtcblxub29wLmluaGVyaXRzKEZvbGRNb2RlLCBCYXNlRm9sZE1vZGUpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXG4gICAgdGhpcy5mb2xkaW5nU3RhcnRNYXJrZXIgPSAvKFxcYkNBU0VcXGJ8XFxiQkVHSU5cXGIpfF5cXHMqKFxcL1xcKikvaTtcbiAgICB0aGlzLnN0YXJ0UmVnaW9uUmUgPSAvXlxccyooXFwvXFwqfC0tKSM/cmVnaW9uXFxiLztcbiAgICBcbiAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZ1bmN0aW9uKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93LCBmb3JjZU11bHRpbGluZSkge1xuICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpO1xuICAgIFxuICAgICAgICBpZiAodGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkpIHJldHVybiB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayhzZXNzaW9uLCBsaW5lLCByb3cpO1xuICAgIFxuICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyKTtcbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IG1hdGNoLmluZGV4O1xuICAgICAgICAgICAgaWYgKG1hdGNoWzFdKSByZXR1cm4gdGhpcy5nZXRCZWdpbkVuZEJsb2NrKHNlc3Npb24sIHJvdywgaSwgbWF0Y2hbMV0pO1xuICAgIFxuICAgICAgICAgICAgdmFyIHJhbmdlID0gc2Vzc2lvbi5nZXRDb21tZW50Rm9sZFJhbmdlKHJvdywgaSArIG1hdGNoWzBdLmxlbmd0aCwgMSk7XG4gICAgICAgICAgICBpZiAocmFuZ2UgJiYgIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZm9yY2VNdWx0aWxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmdldFNlY3Rpb25SYW5nZShzZXNzaW9uLCByb3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmb2xkU3R5bGUgIT0gXCJhbGxcIikgcmFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGlmIChmb2xkU3R5bGUgPT09IFwibWFya2JlZ2luXCIpIHJldHVybjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgdGhpcy5nZXRCZWdpbkVuZEJsb2NrID0gZnVuY3Rpb24oc2Vzc2lvbiwgcm93LCBjb2x1bW4sIG1hdGNoU2VxdWVuY2UpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0ge1xuICAgICAgICAgICAgcm93OiByb3csXG4gICAgICAgICAgICBjb2x1bW46IGNvbHVtbiArIG1hdGNoU2VxdWVuY2UubGVuZ3RoXG4gICAgICAgIH07XG4gICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpO1xuICAgICAgICB2YXIgbGluZTtcbiAgICBcbiAgICAgICAgdmFyIGRlcHRoID0gMTtcbiAgICAgICAgdmFyIHJlID0gLyhcXGJDQVNFXFxifFxcYkJFR0lOXFxiKXwoXFxiRU5EXFxiKS9pO1xuICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHtcbiAgICAgICAgICAgIGxpbmUgPSBzZXNzaW9uLmdldExpbmUocm93KTtcbiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTtcbiAgICAgICAgICAgIGlmICghbSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAobVsxXSkgZGVwdGgrKztcbiAgICAgICAgICAgIGVsc2UgZGVwdGgtLTtcbiAgICBcbiAgICAgICAgICAgIGlmICghZGVwdGgpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbmRSb3cgPSByb3c7XG4gICAgICAgIGlmIChlbmRSb3cgPiBzdGFydC5yb3cpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2Uoc3RhcnQucm93LCBzdGFydC5jb2x1bW4sIGVuZFJvdywgbGluZS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfTtcblxufSkuY2FsbChGb2xkTW9kZS5wcm90b3R5cGUpO1xuXG59KTtcblxuYWNlLmRlZmluZShcImFjZS9tb2RlL3NxbHNlcnZlclwiLFtcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiLFwiYWNlL2xpYi9vb3BcIixcImFjZS9tb2RlL3RleHRcIixcImFjZS9tb2RlL3NxbHNlcnZlcl9oaWdobGlnaHRfcnVsZXNcIixcImFjZS9tb2RlL2ZvbGRpbmcvc3Fsc2VydmVyXCJdLCBmdW5jdGlvbihhY2VxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIG9vcCA9IGFjZXF1aXJlKFwiLi4vbGliL29vcFwiKTtcbnZhciBUZXh0TW9kZSA9IGFjZXF1aXJlKFwiLi90ZXh0XCIpLk1vZGU7XG52YXIgU3FsU2VydmVySGlnaGxpZ2h0UnVsZXMgPSBhY2VxdWlyZShcIi4vc3Fsc2VydmVyX2hpZ2hsaWdodF9ydWxlc1wiKS5TcWxIaWdobGlnaHRSdWxlcztcbnZhciBTcWxTZXJ2ZXJGb2xkTW9kZSA9IGFjZXF1aXJlKFwiLi9mb2xkaW5nL3NxbHNlcnZlclwiKS5Gb2xkTW9kZTtcblxudmFyIE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLkhpZ2hsaWdodFJ1bGVzID0gU3FsU2VydmVySGlnaGxpZ2h0UnVsZXM7XG4gICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBuZXcgU3FsU2VydmVyRm9sZE1vZGUoKTtcbiAgICB0aGlzLiRiZWhhdmlvdXIgPSB0aGlzLiRkZWZhdWx0QmVoYXZpb3VyO1xufTtcbm9vcC5pbmhlcml0cyhNb2RlLCBUZXh0TW9kZSk7XG5cbihmdW5jdGlvbigpIHtcbiAgICB0aGlzLmxpbmVDb21tZW50U3RhcnQgPSBcIi0tXCI7XG4gICAgdGhpcy5ibG9ja0NvbW1lbnQgPSB7c3RhcnQ6IFwiLypcIiwgZW5kOiBcIiovXCJ9O1xuICAgIHRoaXMuZ2V0Q29tcGxldGlvbnMgPSBmdW5jdGlvbihzdGF0ZSwgc2Vzc2lvbiwgcG9zLCBwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHNlc3Npb24uJG1vZGUuJGhpZ2hsaWdodFJ1bGVzLmNvbXBsZXRpb25zO1xuICAgIH07XG4gICAgXG4gICAgdGhpcy4kaWQgPSBcImFjZS9tb2RlL3NxbFwiO1xufSkuY2FsbChNb2RlLnByb3RvdHlwZSk7XG5cbmV4cG9ydHMuTW9kZSA9IE1vZGU7XG5cbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9